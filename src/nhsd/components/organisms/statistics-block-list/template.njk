{#- Import molecule macros -#}
{%- from "../../../njk/macros/molecules.njk" import
  nhsd_m_statistics_block
-%}

{#- Set classes -#}
{% set classNames = "nhsd-o-statistics-block-list" %}
{%- if params.classes -%}
  {% set classNames = classNames + " " + params.classes %}
{%- endif -%}

{#- Desktop columns -#}
{%- set desktopColumns = params.desktopColumns if params.desktopColumns else 2 -%}
{% if not (desktopColumns / 2) or desktopColumns < 1 or desktopColumns > 4 %}
{%- set desktopColumns = 4 -%}
{% endif %}

{#- Set grid classes -#}
{%- if desktopColumns == 4 %}
  {%- set gridClass = "nhsd-t-col-xs-12 nhsd-t-col-s-6 nhsd-t-col-l-3" -%}
{%- elseif desktopColumns == 3 %}
  {%- set gridClass = "nhsd-t-col-xs-12 nhsd-t-col-s-4" -%}
{%- elseif desktopColumns == 2 %}
  {%- set gridClass = "nhsd-t-col-xs-12 nhsd-t-col-s-6" -%}
{% endif -%}

<div class="{{ classNames }}">
  <div class="nhsd-t-grid">
    <div class="nhsd-t-row nhsd_o_statistics-block-list__item">

      {% for statisticsBlock in params.statisticBlocks %}
        <div class="{{ gridClass }}">
          <div class="nhsd_o_statistics-block-list__container">
            {{ nhsd_m_statistics_block(statisticsBlock) }}
          </div>
        </div>
      {% endfor %}

    </div>
  </div>
</div>

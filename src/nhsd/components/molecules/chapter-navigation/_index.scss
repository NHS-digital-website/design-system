// Built in modules
@use "sass:map";

// Settings
@use "scss-core/settings/media-queries" as *;
@use "scss-core/settings/vars";
@use "scss-core/settings/_z-index";

// Token
@use "scss-core/tokens/colours" as nhsd-colours;
@use "scss-core/tokens/spacing" as nhsd-spacing;
@use "scss-core/tokens/utils" as nhsd-utils;
@use "scss-core/tokens/transition" as nhsd-transition;
@use "scss-core/tokens/typography" as nhsd-typography;

@use "../../atoms/link/index" as nhsd-link;

// Private members
$-root: ".nhsd-m-chapter-navigation";

$-breakpoints: "xs", "s", "m", "l", "xl";

#{$-root} {
  width: 100%;
  color: nhsd-colours.get('black');
  @include z-index.get('chapter-nav');
  @extend %body-base;

  &__chapter-content {
    display: flex;
    height: 100px;
    margin: 0 auto;
    padding: vars.$gutter * 2;

    @include mq($until: s) {
      padding: vars.$small-gutter vars.$small-gutter * 2;
    }

    @each $-breakpoint in $-breakpoints {
      @include mq($from: $-breakpoint) {
        max-width: map.get(vars.$content-width, $-breakpoint);
      }
    }

    .nhsd-a-icon {
      flex-shrink: 0;
    }
  }

  &__link {
    display: flex;
    width: 100%;
    height: 100%;
    color: nhsd-colours.get('black');
    text-decoration: none;
    align-items: center;

    @include nhsd-link.link-styling('#{$-root}__link-label');
  }

  &__link-content {
    display: flex;
    align-items: center;
    gap: nhsd-spacing.get(1);
  }

  &__next-chapter,
  &__previous-chapter,
  &__current-chapter {
    display: flex;
    width: 33%;
    align-items: center;
  }

  &__next-chapter {
    #{$-root}__link {
      justify-content: flex-end;
    }
  }

  &__current-chapter {
    width: 34%;
    padding: 0 nhsd-spacing.get(1);
    text-align: center;
    justify-content: center;

    @include mq($from: s) {
      &:first-child {
        margin-left: 33%;
      }

      &:last-child {
        margin-right: 33%;
      }
    }
  }

  &--footer {
    #{$-root}__chapter-content {
      padding: 0;
    }

    #{$-root}__next-chapter,
    #{$-root}__previous-chapter {
      width: 100%;
    }
  }

  @include mq($until: s) {
    &__chapter-content {
      display: block;
      height: auto;
    }

    &__link {
      display: block;
    }

    &__current-chapter,
    &__previous-chapter,
    &__next-chapter {
      display: block;
      width: 100%;
      padding: nhsd-spacing.get(2) 0;
      text-align: left;
    }
  }
}
